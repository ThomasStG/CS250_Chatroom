{"version":3,"file":"_page.svelte-b6d20363.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(app)/chatrooms/_slug_/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, d as add_attribute, e as escape, i as each, v as validate_component } from \"../../../../../chunks/index3.js\";\nimport \"devalue\";\nconst _slug_ = \"\";\nconst Modal_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \".close.svelte-e9s364{position:absolute;right:4px;top:0}dialog.svelte-e9s364{border-radius:0.2em;border:none;padding:0}button.svelte-e9s364{display:block}\",\n  map: null\n};\nconst Modal = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { showModal } = $$props;\n  let dialog;\n  if ($$props.showModal === void 0 && $$bindings.showModal && showModal !== void 0)\n    $$bindings.showModal(showModal);\n  $$result.css.add(css);\n  return `\n<dialog class=\"svelte-e9s364\"${add_attribute(\"this\", dialog, 0)}>\n  <div>${slots.header ? slots.header({}) : ``}\n    <hr>\n    ${slots.default ? slots.default({}) : ``}\n    <hr>\n    \n    <div><button class=\"close svelte-e9s364\">X</button></div></div>\n</dialog>`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let messages;\n  let roomName;\n  let userId;\n  let roomId;\n  let { data } = $$props;\n  let modals = {};\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    ({ messages, roomName, userId, roomId } = data);\n    $$rendered = `<div class=\"background flex min-h-screen flex-col items-center\">${roomName && roomName.name ? `<h1 class=\"mb-4 text-center text-4xl font-extrabold md:text-5xl lg:text-6xl\">Room: ${escape(roomName.name)}</h1>\n  <div class=\"flex items-center\"><a href=\"/chatrooms\" class=\"mb-2 mr-4 text-3xl font-extrabold md:text-4xl lg:text-2xl\" style=\"text-align: left\">Back</a>\n    <h1 class=\"mb-4 text-center text-4xl font-extrabold md:text-5xl lg:text-6xl\">Messages\n    </h1>\n    <a href=\"${escape(roomId, true) + \"/edit\"}\">edit</a></div>` : ``}\n  <div class=\"mx-auto max-w-3xl items-center\">${messages ? `${each(messages, (message) => {\n      return `<div class=\"message-list\"><p>Message: ${escape(message.content)}</p>\n\n          ${message.sentAt ? `<p>Time: ${escape(message.sentAt)}</p>` : ``}\n          ${message.updatedAt ? `<p>Updated at: ${escape(message.updatedAt)}</p>` : ``}\n          ${userId == message.sender.id ? `<div style=\"display: flex;\"><button class=\"message-button\">Edit Message</button>\n              <form action=\"?/deleteMessage\" method=\"POST\"><button type=\"submit\" class=\"message-button\">Delete Message\n                </button>\n                <input type=\"hidden\" id=\"messageId\" name=\"messageId\"${add_attribute(\"value\", message.id, 0)}>\n              </form></div>\n            ${modals[message.id] ? `${validate_component(Modal, \"Modal\").$$render(\n        $$result,\n        { showModal: modals[message.id] },\n        {\n          showModal: ($$value) => {\n            modals[message.id] = $$value;\n            $$settled = false;\n          }\n        },\n        {\n          header: () => {\n            return `<h2 slot=\"header\">Edit Message</h2>`;\n          },\n          default: () => {\n            return `<div class=\"modal-size\"><body><form action=\"?/editMessage\" method=\"POST\"><div>\n                        <textarea rows=\"10\" cols=\"44\" autofocus id=\"message\" name=\"message\" class=\"modal-text\">${escape(\"\")}</textarea>\n                        \n                        <input type=\"hidden\" id=\"messageId\" name=\"messageId\"${add_attribute(\"value\", message.id, 0)}></div>\n                      <button class=\"bottom\" type=\"submit\">Submit</button></form>\n                  </body></div>\n              `;\n          }\n        }\n      )}` : ``}` : ``}\n        </div>`;\n    })}` : ``}</div>\n  <div><form action=\"?/sendMessage\" method=\"POST\" class=\"mx-auto flex h-full max-w-3xl items-center\" id=\"sendForm\"><input type=\"text\" id=\"content\" name=\"content\" placeholder=\"Enter message\" class=\"flex-1 rounded-l-lg border border-gray-400 p-2 focus:outline-none focus:ring-2 focus:ring-blue-400\" required>\n      <button type=\"submit\" id=\"submit\" class=\"rounded-r-lg bg-blue-500 px-4 py-2 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400\" style=\"color:inherit\">send\n      </button></form></div></div>`;\n  } while (!$$settled);\n  return $$rendered;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}