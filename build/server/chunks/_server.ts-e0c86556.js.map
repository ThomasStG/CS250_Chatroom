{"version":3,"file":"_server.ts-e0c86556.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/(app)/api/createRoom/_server.ts.js"],"sourcesContent":["import { d as db } from \"../../../../../chunks/database.js\";\nimport \"dns\";\nimport { j as json } from \"../../../../../chunks/index.js\";\nasync function POST({ request }) {\n  const { addedUsers, chatname } = await request.json();\n  const usersToConnect = addedUsers.map((id) => ({\n    id\n  }));\n  const room = await db.room.create({\n    data: {\n      name: chatname,\n      Chatroom: true,\n      users: {\n        connect: usersToConnect\n      }\n    },\n    include: {\n      users: true\n    }\n  });\n  if (!room) {\n    console.error(\"error creating room\");\n  } else {\n    console.log(\"room created: \", room);\n  }\n  return json({ room }, { status: 201 });\n}\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;;AAGA,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AACjC,EAAE,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC;AACxD,EAAE,MAAM,cAAc,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM;AACjD,IAAI,EAAE;AACN,GAAG,CAAC,CAAC,CAAC;AACN,EAAE,MAAM,IAAI,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC;AACpC,IAAI,IAAI,EAAE;AACV,MAAM,IAAI,EAAE,QAAQ;AACpB,MAAM,QAAQ,EAAE,IAAI;AACpB,MAAM,KAAK,EAAE;AACb,QAAQ,OAAO,EAAE,cAAc;AAC/B,OAAO;AACP,KAAK;AACL,IAAI,OAAO,EAAE;AACb,MAAM,KAAK,EAAE,IAAI;AACjB,KAAK;AACL,GAAG,CAAC,CAAC;AACL,EAAE,IAAI,CAAC,IAAI,EAAE;AACb,IAAI,OAAO,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;AACzC,GAAG,MAAM;AACT,IAAI,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;AACxC,GAAG;AACH,EAAE,OAAO,IAAI,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;AACzC;;;;"}